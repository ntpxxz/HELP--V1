'use strict';
const nodemailer = require('nodemailer');
// async..await is not allowed in global scope, must use a wrapper
async function main() {
    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≠‡∏õ‡πÄ‡∏à‡πá‡∏Ñ transporter ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ SMTP ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏ï‡∏≠‡∏ô‡∏™‡πà‡∏á‡πÄ‡∏°‡∏•
    let transporter = nodemailer.createTransport({
        host: 'smtp.rith.riso.biz',
        port: 25,
        secure: false, // true for 465, false for other ports
        auth: { // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
            user: 'nattapon@rith.riso.biz', // email user ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤
            pass: 'nA_11121112' // email password
        }
    });
    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•
    let info = await transporter.sendMail({
        from: '"Fred Foo üëª" <nattapon@rith.riso.biz>', // ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ú‡∏π‡πâ‡∏™‡πà‡∏á
        to: 'nattapon.mnz8898@gmail.com', // ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 1 ‡∏≠‡∏µ‡πÄ‡∏°‡∏• ‡πÇ‡∏î‡∏¢‡∏Ç‡∏±‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ ,(Comma)
        subject: 'Hello ‚úî', // ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏≠‡∏µ‡πÄ‡∏°‡∏•
        text: 'Hello world?', // plain text body
        html: '<b>Hello world?</b>' // html body
    });
    // log ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ß‡πà‡∏≤‡∏™‡πà‡∏á‡πÑ‡∏î‡πâ-‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
    console.log('Message sent: %s', info.messageId);
}
main().catch(console.error);